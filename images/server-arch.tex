\begin{tikzpicture}[
    node/.style={
      draw=maincolor,
      thick,
      rectangle,
      rounded corners,
      minimum width=5em,
      minimum height=3ex,
      inner sep=0ex,
      fill=maincolor!18},
    shorten >=1pt
  ]

  \node (client) {Client};
  \node[node,below of= client] (webrick) {WEBrick};
  \node[node,left of= webrick,node distance=7em] (files) {Files};
  \node[node,below of= webrick] (routing) {Routing};
  \node[node,right of= routing,node distance=7em] (views) {Views};
  \node[node,below of= routing] (controllers) {Controllers};
  \node[node,below of= controllers] (models) {Models};
  \node[node,below of= models] (database) {Database};

  \draw[->,thick,color=maincolor,
        every edge/.append style={transform canvas={xshift=-1em}}]
    (client) edge (webrick)
    (webrick) edge (routing)
    (routing) edge (controllers)
    (controllers) edge (models)
    (models) edge (database);

  \draw[->,thick,color=maincolor,
        every edge/.append style={transform canvas={xshift=1em}}]
    (database) edge (models)
    (models) edge (controllers)
    (webrick) edge (client);

  \draw[thick,color=maincolor]
    (controllers.east) edge[->,out=0,in=-90] (views.south)
    (views.north) edge[->,out=90,in=0] (webrick.east);

  \draw[->,thick,color=maincolor,
        every edge/.append style={transform canvas={yshift=.6ex}}]
    (webrick) edge (files);

  \draw[->,thick,color=maincolor,
        every edge/.append style={transform canvas={yshift=-.6ex}}]
    (files) edge (webrick);
\end{tikzpicture}